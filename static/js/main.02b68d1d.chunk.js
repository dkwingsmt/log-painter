(this["webpackJsonplog-painter"]=this["webpackJsonplog-painter"]||[]).push([[0],{15:function(e,n,t){"use strict";t.d(n,"f",(function(){return c})),t.d(n,"a",(function(){return f})),t.d(n,"b",(function(){return h})),t.d(n,"e",(function(){return O.c})),t.d(n,"d",(function(){return O.a})),t.d(n,"c",(function(){return x.a}));var r=t(342),a=t(347),c=Object(r.a)((function(){return Object(a.a)({Control:{display:"flex",marginTop:20},Body:{},Container:{paddingTop:10},ControlButton:{width:100,marginLeft:10}})})),o=t(0),l=t(172),i=t(400),u=t(386),s=t(384),d=t(385),b=t(383),j=t(2),f=function(e){var n=e.open,t=e.onClose,r=e.body;return Object(j.jsx)("div",{children:Object(j.jsxs)(i.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(j.jsx)(b.a,{children:"\u51fa\u9519\u5566"}),Object(j.jsx)(s.a,{children:Object(j.jsx)(d.a,{id:"alert-dialog-description",children:r})}),Object(j.jsx)(u.a,{children:Object(j.jsx)(l.a,{onClick:t,color:"primary",autoFocus:!0,children:"\u597d\u7684"})})]})})},m=t(50),v=t(12),p=t(109),h=function(e){var n=e.step1,t=e.step2,r=e.step3,a=e.initConfig,c=e.saveConfig,l=Object(o.useState)(0),i=Object(v.a)(l,2),u=i[0],s=i[1],d=Object(o.useState)([]),b=Object(v.a)(d,2),f=b[0],h=b[1],O=Object(v.a)(f,2),x=O[0],g=O[1],y=Object(o.useState)((function(){return[a()]})),w=Object(v.a)(y,2),C=w[0],N=w[1];function S(e){c(e),N([].concat(Object(m.a)(C),[e]))}function R(){N(C.slice(0,C.length-1)),c(C[C.length-1])}return Object(j.jsxs)(p.a,{item:!0,xs:12,children:[Object(j.jsx)(n,{show:0===f.length,onNextStep:function(e,n){S(n),h([e])}},"".concat(u,"-1")),null==x?null:Object(j.jsx)(t,{show:1===f.length,args:x,onPrevStep:function(){R(),h([])},onNextStep:function(e,n){S(n),h([f[0],e])}},"".concat(u,"-2")),null==g?null:Object(j.jsx)(r,{show:2===f.length,args:g,onPrevStep:function(){R(),h([f[0]])},onRestart:function(e){h([]),s(u+1),N([e]),c(e)}},"".concat(u,"-3"))]})},O=t(36),x=t(76)},150:function(e,n,t){"use strict";(function(e){t.d(n,"a",(function(){return x}));var r=t(8),a=t(12),c=t(0),o=t(165),l=t.n(o),i=t(342),u=t(347),s=t(172),d=t(109),b=t(346),j=t(344),f=t(166),m=t.n(f),v=t(15),p=t(21),h=t(2),O=Object(i.a)((function(){return Object(u.a)({Output:{fontFamily:"\u5fae\u8f6f\u96c5\u9ed1",fontSize:14,padding:"16px 14px",borderColor:"#0000003b","&:hover":{borderColor:"#000000de"},borderStyle:"solid",borderWidth:1,borderRadius:4,maxHeight:200,overflowY:"scroll","& > p":{margin:"0.5em 0"}}})})),x=function(n){var t=n.args,o=n.onPrevStep,i=n.onRestart,u=Object(c.useContext)(v.d),f=Object(v.f)(),x=O(),g=Object(c.useRef)(u.players||{}).current,y=Object(c.useState)({open:!1}),w=Object(a.a)(y,2),C=w[0],N=w[1],S=function(e){N({body:e,open:!0})},R=p.b[u.general.rendererScheme],k=t.lines.filter((function(e){var n,t;return null===(n=null===(t=g[e.playerId])||void 0===t?void 0:t.enabled)||void 0===n||n})).map((function(e){var n,t,r,a;return{content:e.content,playerName:null!==(n=null===(t=g[e.playerId])||void 0===t?void 0:t.displayName)&&void 0!==n?n:"\u9519\u8bef",playerColor:null!==(r=null===(a=g[e.playerId])||void 0===a?void 0:a.color)&&void 0!==r?r:"black"}})),P=Object(c.useState)((function(){var n=new l.a("#clipboard-button",{target:function(){var e=document.getElementById("result-body");if(null==e)throw S("\u590d\u5236\u9519\u8bef\uff1a\u627e\u4e0d\u5230\u590d\u5236\u5bf9\u8c61"),new Error("\u627e\u4e0d\u5230\u590d\u5236\u5bf9\u8c61");return e}});return n.on("success",(function(){e((function(){return S("\u5df2\u590d\u5236\u5230\u526a\u8d34\u677f\uff01")}))})),n.on("error",(function(e){S("\u590d\u5236\u9519\u8bef\uff01\u8bf7\u53cc\u51fb\u6587\u672c\u6846\u624b\u52a8\u590d\u5236\u5427\uff01"),console.error(e)})),n})),B=Object(a.a)(P,1)[0];return Object(c.useEffect)((function(){return function(){B.destroy()}})),n.show?Object(h.jsxs)(d.a,{container:!0,className:f.Container,children:[Object(h.jsx)(d.a,{item:!0,xs:12,className:f.Body,children:Object(h.jsxs)("div",{className:x.Output,onDoubleClick:function(){var e=window.getSelection();if(e){var n=document.getElementById("result-body");if(n){var t=document.createRange();t.selectNode(n),e.removeAllRanges(),e.addRange(t)}}},id:"result-body",children:[Object(h.jsx)(j.a,{style:{float:"right",marginTop:-15},id:"clipboard-button",children:Object(h.jsx)(m.a,{})}),Object(p.a)(k,R,!1)]})}),Object(h.jsxs)(d.a,{item:!0,xs:12,justifyContent:"flex-end",className:f.Control,children:[Object(h.jsx)(s.a,{variant:"outlined",color:"secondary",className:f.ControlButton,onClick:o,children:"\u4e0a\u4e00\u6b65"}),Object(h.jsx)(s.a,{variant:"contained",className:f.ControlButton,style:{backgroundColor:"#d4d45f"},onClick:function(){i(u)},children:"\u518d\u505a\u4e00\u56e2"})]}),Object(h.jsx)(b.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:C.open,autoHideDuration:6e3,onClose:function(){N(Object(r.a)(Object(r.a)({},C),{},{open:!1}))},message:C.body})]}):null}}).call(this,t(333).setImmediate)},196:function(e,n,t){},197:function(e,n,t){},21:function(e,n,t){"use strict";t.d(n,"b",(function(){return $})),t.d(n,"a",(function(){return E}));var r=t(50),a=(t(0),t(63)),c=t.n(a),o=t(153),l=t.n(o),i=t(154),u=t.n(i),s=t(38),d=t(155),b=t.n(d),j=t(107),f=t.n(j),m=t(156),v=t.n(m),p=t(85),h=t.n(p);function O(e,n,t){return e>=n&&e<=t}function x(e){return O(e,65,90)||O(e,97,122)||O(e,192,214)||O(e,216,246)||O(e,248,687)||O(e,880,6527)||O(e,7680,8191)||O(e,8544,8584)||O(e,12352,12543)||O(e,44032,55215)||O(e,13312,19903)||O(e,19968,40959)||O(e,63744,64255)||O(e,131072,183983)||O(e,194560,195103)}var g=["False","await","else","import","pass","None","break","except","in","raise","True","class","finally","is","return","and","continue","for","lambda","try","as","def","from","nonlocal","while","assert","del","global","not","with","async","elif","if","or","yield","match","case","_"],y={};function w(e){var n=!1;return e.split("").filter((function(e){var t,r,a;return n?x(a=null!==(t=e.codePointAt(0))&&void 0!==t?t:0)||O(a,48,57)||O(a,768,879)||95==a||183==a:n=x(null!==(r=e.codePointAt(0))&&void 0!==r?r:0)})).join("")}function C(e){var n,t,r=0,a={},c=[],o=Object(s.a)(e);try{for(o.s();!(t=o.n()).done;){var l=t.value;null!=a[l]?(r+=1,c.push("".concat(l).concat(r))):(c.push(l),a[l]=!0)}}catch(B){o.e(B)}finally{o.f()}var i={},u=0;function d(){return"_C".concat(u+=1)}for(var j={},m={},p=0,O=c;p<O.length;p++){var x=O[p];if(h()(x))i[x]=d();else{var C=w(x).split(""),N=m[C.join("")];0==C.length?i[x]=d():null!=N?(i[x]=d(),i[N]=d(),delete j[N]):(j[x]=C,m[C.join("")]=x)}}for(var S=null!==(n=v()(Object.values(j).map((function(e){return e.length}))))&&void 0!==n?n:0,R={},k=function(e){if(h()(j))return"break";var n={};b()(j,(function(t,r){var a=t.slice(0,e).join("");!function(e){if(h()(y)){var n,t=Object(s.a)(g);try{for(t.s();!(n=t.n()).done;){var r=n.value;y[r]=!0}}catch(B){t.e(B)}finally{t.f()}}return null!=y[e]}(a)?null==n[a]?(n[a]=r,i[r]=a):(R[r]=t,R[n[a]]=j[n[a]],delete i[n[a]]):t.length<=e?i[r]=d():R[r]=t})),j=R,R={}},P=1;P<=S;P+=1){if("break"===k(P))break}if(f()(i)!=f()(e))throw console.error("Algorithm error",e),Error("Algorithm error");return c.map((function(e){return i[e]}))}var N=t(157),S=t(2),R=function(e,n){return function(t){return t.map((function(t,r){return Object(S.jsxs)("p",{style:{color:t.playerColor},children:["".concat(e).concat(t.playerName).concat(n),t.content.map((function(e,n){return(0===n?[]:[Object(S.jsx)("br",{},"br-".concat(n))]).concat([Object(S.jsx)("span",{children:e},n)])}))]},r)}))}},k=function(e,n){return function(t){return t.map((function(t,r){return Object(S.jsxs)("span",{children:["[color=".concat(t.playerColor,"]").concat(e).concat(t.playerName).concat(n),t.content.map((function(e,n){return(0===n?[]:[Object(S.jsx)("br",{},"br-".concat(n))]).concat([Object(S.jsx)("span",{children:e},n)])})),"[/color]",Object(S.jsx)("br",{})]},r)}))}},P=function(e,n){return function(t){return t.map((function(t,a){return Object(S.jsxs)("span",{children:[" ",['<p style="color: '.concat(t.playerColor,'">'),c()("".concat(e).concat(t.playerName).concat(n))].concat(Object(r.a)(t.content.map((function(e,n){return(0===n?[]:[Object(S.jsx)("br",{},"br-".concat(n)),"<br />"]).concat([Object(S.jsx)("span",{children:c()(e)},n)])}))),["</p>"]),Object(S.jsx)("br",{})]},a)}))}};function B(e){return e.replaceAll(/[\\"]/g,(function(e){return"\\".concat(e)}))}function L(e,n,t){var r=[];return e.forEach((function(e,a){if(0!==a)for(var c=0;c<n;c++)r.push(Object(S.jsx)("br",{},t+a*n+c));r.push(e)})),r}function I(e){var n=u()(e,(function(e){return e.playerName})),t=C(n.map((function(e){return e.playerName}))),r={};t.forEach((function(e,t){r[n[t].playerName]=e}));var a=n.map((function(e,n){return"define ".concat(t[n]," = Character('").concat(B(e.playerName),"', color=\"").concat(e.playerColor,'")')})),c=e.map((function(e){var n=r[e.playerName],t=Object(N.repeat)(" ",n.length),a=e.content.map((function(e){return B(e)})).join('" +\n     '.concat(t,'"'));return"    ".concat(n,' "').concat(a,'"')}));return Object(S.jsxs)("pre",{children:[L(a,1,0),Object(S.jsx)("br",{},a.length),Object(S.jsx)("br",{},a.length+1),"label start:",Object(S.jsx)("br",{},a.length+2),L(c,2,a.length+3)]})}var $={"standard-rich":{id:"standard-rich",name:"\u5bcc\u6587\u672c\uff0c\u5c16\u62ec\u53f7\u5206\u5272",description:"\u6700\u5e38\u89c1\u7684\u683c\u5f0f\u3002\u8f93\u51fa\u5bcc\u6587\u672c\uff0c\u53ef\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u5230Word\u91cc\u3002\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!0,previewRenderer:R("<","> "),finalRenderer:R("<","> ")},"bold-rich":{id:"bold-rich",name:"\u5bcc\u6587\u672c\uff0c\u7c97\u62ec\u53f7\u5206\u5272",description:"\u5e38\u89c1\u683c\u5f0f\u3002\u8f93\u51fa\u5bcc\u6587\u672c\uff0c\u53ef\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u5230Word\u91cc\u3002\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!0,previewRenderer:R("\u3010","\u3011"),finalRenderer:R("\u3010","\u3011")},"standard-bbs":{id:"standard-bbs",name:"BBS\u4ee3\u7801\uff0c\u5c16\u62ec\u53f7\u5206\u5272",description:"\u6700\u5e38\u89c1\u7684\u683c\u5f0f\u3002\u8f93\u51faBBS\u4ee3\u7801\uff0c\u53ef\u590d\u5236\u7c98\u8d34\u5230\u679c\u56ed\u3002\u6700\u7ec8\u6548\u679c\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!1,previewRenderer:R("<","> "),finalRenderer:k("<","> ")},"bold-bbs":{id:"bold-bbs",name:"BBS\u4ee3\u7801\uff0c\u7c97\u62ec\u53f7\u5206\u5272",description:"\u5e38\u89c1\u683c\u5f0f\u3002\u8f93\u51faBBS\u4ee3\u7801\uff0c\u53ef\u590d\u5236\u7c98\u8d34\u5230\u679c\u56ed\u3002\u6700\u7ec8\u6548\u679c\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!1,previewRenderer:R("\u3010","\u3011"),finalRenderer:k("\u3010","\u3011")},"standard-html":{id:"standard-html",name:"HTML\uff0c\u5c16\u62ec\u53f7\u5206\u5272",description:"\u6700\u5e38\u89c1\u7684\u683c\u5f0f\u3002\u8f93\u51faBBS\u4ee3\u7801\uff0c\u53ef\u590d\u5236\u7c98\u8d34\u5230100Dice\u3002\u6700\u7ec8\u6548\u679c\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!0,previewRenderer:R("<","> "),finalRenderer:P("<","> ")},"bold-html":{id:"bold-html",name:"HTML\uff0c\u7c97\u62ec\u53f7\u5206\u5272",description:"\u5e38\u89c1\u683c\u5f0f\u3002\u8f93\u51faBBS\u4ee3\u7801\uff0c\u53ef\u590d\u5236\u7c98\u8d34\u5230100Dice\u3002\u6700\u7ec8\u6548\u679c\u9884\u89c8\u5982\u4e0b\uff1a",allowNewPalette:!0,previewRenderer:R("\u3010","\u3011"),finalRenderer:P("\u3010","\u3011")},"tab-rich":{id:"tab-rich",name:"\u3010\u7279\u6b8a\u3011Tab\u5206\u5272",description:"\u4ee5Tab\u5206\u5272\u5404\u5143\u7d20\uff0c\u4fdd\u8bc1\u5782\u76f4\u5bf9\u9f50\u7684\u7279\u6b8a\u683c\u5f0f\u3002\u8f93\u51fa\u5bcc\u6587\u672c\uff0c\u53ef\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u5230Word\u7b49\u8f6f\u4ef6\u4e2d\u3002\u5927\u81f4\u6548\u679c\u9884\u89c8\u5982\u4e0b\uff08\u6700\u7ec8\u6548\u679c\u53d6\u51b3\u4e8e\u6587\u6863\u8bbe\u5b9a\uff09\uff1a",allowNewPalette:!0,previewRenderer:function(e){var n=e.map((function(e,n){return Object(S.jsxs)("tr",{style:{color:e.playerColor},children:[Object(S.jsx)("td",{children:e.playerName}),Object(S.jsx)("td",{children:e.content.map((function(e,n){return(0===n?[]:[Object(S.jsx)("br",{},"br-".concat(n))]).concat([Object(S.jsx)("span",{children:e},n)])}))})]},n)}));return Object(S.jsx)("table",{className:"tab-renderer-preview-table",children:n})},finalRenderer:function(e){return e.map((function(e,n){return Object(S.jsx)("pre",{style:{color:e.playerColor},dangerouslySetInnerHTML:{__html:"&#9;".concat(c()(e.playerName),"&#9;").concat(l()(e.content.map(c.a),"&#11;"))}},n)}))}},renpy:{id:"renpy",name:"\u3010\u7279\u6b8a\u3011Renpy",description:"\u8f93\u51fa\u53ef\u4ee5\u76f4\u63a5\u5bfc\u5165\u8fdbRenpy\u7684\u683c\u5f0f\uff1a",allowNewPalette:!0,previewRenderer:I,finalRenderer:I}};function E(e,n,t){return(t?n.previewRenderer:n.finalRenderer)(e)}},340:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(13),o=t.n(c),l=t(12),i=t(151),u=t.n(i),s=t(167),d=t.n(s),b=t(342),j=t(347),f=t(168),m=t(395),v=t(393),p=t(401),h=t(396),O=t(344),x=t(394),g=t(108),y=(t(196),t(197),t(8)),w=t(172),C=t(109),N=t(399),S=t(15),R=t(38),k=t(158),P=t.n(k),B=t(159),L=t.n(B),I=t(160),$=t.n(I),E=t(33),W=t.n(E);function D(e){if(null==e)return null;for(var n=e.content,t=/^.*\u64a4\u56de\u4e86\u4e00\u6761\u6d88\u606f/,r=/^.* recalled a message( Re-edit)?$/,a=/^.*\u64a4\u56de\u4e86\u6210\u5458.*\u7684\u4e00\u6761\u6d88\u606f$/,c=/^.*\u64a4\u56de\u4e86\u4e00\u6761\u6210\u5458\u6d88\u606f$/,o=/^\u4f60\u548c.*\u6709\d+\u4e2a\u5171\u540c\u597d\u53cb\uff0c\u70b9\u51fb\u6dfb\u52a0\u597d\u53cb\u3002$/,l=/^.*\u52a0\u5165\u672c\u7fa4\u3002$/,i=/^.*\u9080\u8bf7.*\u52a0\u5165\u4e86\u672c\u7fa4\u3002$/,u=n.length-1;u>=0&&[/^ *$/,t,r,a,c,o,l,i].some((function(e){return e.exec(n[u])}));u--);return e.content=e.content.slice(0,u+1),e}var T=/\(\d+\)|<.+@.+\..+>/,z=/(?:\u3010(.{1,6})\u3011)?/,A=/(?:(?:\u4e0a\u5348|\u4e0b\u5348) )?\d{1,2}:\d{2}:\d{2}(?: (?:AM|PM))?/;function H(e){if(null==e)return null;for(var n=e.content,t=/^\u2014 \u2014  \d{4}-\d{1,2}-\d{1,2}  \u2014 \u2014$/,r=n.length-1;r>=0&&[/^ *$/,t].some((function(e){return e.exec(n[r])}));r--);return e.content=e.content.slice(0,r+1),e}function F(e){if(null==e)return null;for(var n=e.content,t=/^ \d{4}-\d{2}-\d{2}$/,r=new RegExp("^".concat(A.source,".*\u64a4\u56de\u4e86\u4e00\u6761\u6d88\u606f")),a=new RegExp("^".concat(A.source,".* recalled a message( Re-edit)?")),c=new RegExp("^".concat(A.source,".*\u64a4\u56de\u4e86\u6210\u5458.*\u7684\u4e00\u6761\u6d88\u606f$")),o=new RegExp("^".concat(A.source,".*\u64a4\u56de\u4e86\u4e00\u6761\u6210\u5458\u6d88\u606f$")),l=new RegExp("^".concat(A.source,".*\u52a0\u5165\u672c\u7fa4\u3002$")),i=n.length-1;i>=0&&[/^ *$/,t,r,a,c,o,l].some((function(e){return e.exec(n[i])}));i--);return e.content=e.content.slice(0,i+1),e}function M(e){if(null==e)return null;for(var n=e.content;n.length>0&&""===n[0].trim();)n.splice(0,1);for(;n.length>0&&""===n[n.length-1].trim();)n.splice(n.length-1,1);return 0===n.length?null:e}function V(e){return $()(e,"()<>")}var _={headerParser:function(e){var n=new RegExp("\\d{4}-\\d{2}-\\d{2} ".concat(A.source)),t=new RegExp("^(".concat(n.source,") (.*?)(").concat(T.source,")?$")).exec(e);if(!t)return null;var r=Object(l.a)(t,4),a=(r[0],r[1]),c=r[2],o=r[3];return{player:{name:c,number:null==o?void 0:V(o)},time:a}},logLineConverter:function(e){return["10000","1000000"].includes(e.player.number||"")?null:M(e)}},Q={headerParser:function(e){var n=new RegExp("(?:\\d{1,4}\\/\\d{1,2}\\/\\d{1,4} (?:\u661f\u671f. )?)?".concat(A.source)),t=new RegExp("^".concat(z.source,"(.*?) (").concat(n.source,")$")).exec(e);if(!t)return null;var r=Object(l.a)(t,4),a=(r[0],r[1]);return{player:{name:r[2],title:a},time:r[3]}},logLineConverter:function(e){return W()(D,M)(e)}},q={headerParser:function(e){var n=new RegExp("^".concat(z.source,"(.*?)(").concat(T.source,") (").concat(A.source,")$")).exec(e);if(!n)return null;var t=Object(l.a)(n,5),r=(t[0],t[1]),a=t[2],c=t[3],o=t[4];return{player:{name:a,title:r,number:V(c)},time:o}},logLineConverter:function(e){return W()(F,M)(e)}},J={headerParser:function(e){var n=/^(.*?) {2}(\d{1,2}:\d{2}:\d{2}) *$/.exec(e);if(!n)return null;var t=Object(l.a)(n,3);t[0];return{player:{name:t[1]},time:t[2]}},logLineConverter:function(e){return W()(H,M)(e)}},U={headerParser:function(e){var n=new RegExp("^(.*?)(".concat(T.source,") (\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2})$")).exec(e);if(!n)return null;var t=Object(l.a)(n,4),r=(t[0],t[1]),a=t[2],c=t[3];return{player:{name:r,number:V(a)},time:c}},logLineConverter:function(e){return W()(M)(e)}},Y={headerParser:function(e){var n=/^<(.+?)>\x09\[(.*?)\]:\x09(.*)$/.exec(e);if(!n)return null;var t=Object(l.a)(n,4),r=(t[0],t[1]);return{player:{name:t[2]},time:r,content:t[3]}},logLineConverter:function(e){return W()(M)(e)}},G={headerParser:function(e){var n=/^<(.+)> (.+)$/.exec(e);if(!n)return null;var t=Object(l.a)(n,3);t[0];return{player:{name:t[1]},content:t[2]}},logLineConverter:function(e){return W()(M)(e)}},K={headerParser:function(e){var n=/^\u3010(.+)\u3011(.+)$/.exec(e);if(!n)return null;var t=Object(l.a)(n,3);t[0];return{player:{name:t[1]},content:t[2]}},logLineConverter:function(e){return W()(M)(e)}};function X(e){return e.number?"qq:".concat(e.number):"name:".concat(e.name)}function Z(e,n){var t=new Set;return null!=n&&t.add(n),{playerId:e,names:t}}function ee(e){return function(e){var n,t=[],r={},a=Object(R.a)(e.logLines);try{for(a.s();!(n=a.n()).done;){var c=n.value,o=c.player,l=c.time,i=c.content,u=X(o);r.playerId||(r[u]=Z(u,o.number)),r[u].names.add(o.name),t.push({playerId:u,time:l,title:o.title,content:i})}}catch(s){a.e(s)}finally{a.f()}return{lines:t,players:P()(r)}}(function(e){var n,t=[],r=void 0,a=Object(R.a)(e.split("\n"));try{var c=function(){var e=n.value,a=function(){if(r)return r.headerParser(e);for(var n=0,t=[U,q,J,_,Q,G,K,Y];n<t.length;n++){var a=t[n],c=a.headerParser(e);if(c)return r=a,c}return null}();if(a){var c=a.player,o=a.time,l=a.content;t.push({player:c,time:o,content:l?[l]:[]})}else if(r){var i=t[t.length-1];i&&i.content.push(e)}};for(a.s();!(n=a.n()).done;)c()}catch(o){a.e(o)}finally{a.f()}return r?{logLines:L()(t.map(r.logLineConverter))}:{logLines:[]}}(e))}var ne=t(2);var te=function(e){var n=e.onNextStep,t=Object(r.useContext)(S.d),a=Object(S.f)(),c=Object(r.useState)(""),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(r.useState)({open:!1}),d=Object(l.a)(s,2),b=d[0],j=d[1];return e.show?Object(ne.jsxs)(C.a,{container:!0,className:a.Container,children:[Object(ne.jsx)(C.a,{item:!0,xs:12,className:a.Body,children:Object(ne.jsx)(N.a,{id:"outlined-basic",label:"\u539f\u6587",placeholder:"\u628a\u539f\u6587\u7c98\u8d34\u5230\u8fd9\u91cc\uff0c\u7136\u540e\u70b9\u51fb\u4e0b\u4e00\u6b65\u3002",variant:"outlined",multiline:!0,fullWidth:!0,rows:10,className:"Source-textfield",onChange:function(e){u(e.target.value)},value:i})}),Object(ne.jsx)(C.a,{container:!0,item:!0,xs:12,justifyContent:"flex-end",className:a.Control,children:Object(ne.jsx)(w.a,{variant:"contained",color:"primary",disabled:i.length<5,className:a.ControlButton,onClick:function(){var e=function(e){var n=ee(e);if(0!==n.players.length&&0!==n.lines.length)return n}(i);null==e?j({open:!0,body:"\u65e0\u6cd5\u4ece\u8fd9\u6bb5\u8bb0\u5f55\u4e2d\u627e\u5230\u53ef\u8bc6\u522b\u7684\u90e8\u5206\uff01\u8bf7\u68c0\u67e5\u540e\u518d\u8bd5\u4e00\u6b21\u5427\uff01"}):n(e,t)},children:"\u4e0b\u4e00\u6b65"})}),Object(ne.jsx)(S.a,Object(y.a)({onClose:function(){return j(Object(y.a)(Object(y.a)({},b),{},{open:!1}))}},b))]}):null},re=t(77),ae=t(50),ce=t(83),oe=t.n(ce),le=t(161),ie=t.n(le),ue=t(84),se=t.n(ue),de=t(162),be=t.n(de),je=t(163),fe=t.n(je),me=t(164),ve=t.n(me),pe=t(403),he=t(389),Oe=t(392),xe=t(397),ge=t(391),ye=t(402);function we(e){var n=['"',"\u201c","\u201d"],t=["\u201c","\u201d"],r=1;return e.map((function(e){return e.split("").map((function(e){return n.includes(e)?t[r=1-r]:e})).join("")}))}var Ce=t(343),Ne=t(404),Se=t(400),Re=t(386),ke=t(384),Pe=t(385),Be=t(383),Le=Object(b.a)((function(){return Object(j.a)({outerButton:{marginLeft:10},paper:{display:"flex",flexDirection:"row",background:"#f5f5f5"},menu:{flex:"100pt 0 0"},descriptionBox:{display:"flex",flexDirection:"column",fontSize:"medium",overflowX:"hidden"},descriptionText:{flex:"80pt 1 0",padding:20},descriptionDisplay:{flex:"20pt 0 0",height:20,display:"inline-flex",background:"white"},descriptionDisplayCell:{flex:"1",height:20}})})),Ie=function(e){var n=e.value,t=e.setValue,r=e.className,c=Le(),o=a.a.useState(!1),i=Object(l.a)(o,2),u=i[0],s=i[1],d=a.a.useState(Object.values(S.c)[0].id),b=Object(l.a)(d,2),j=b[0],f=b[1],m=S.c[n],v=function(){s(!1)};return Object(ne.jsxs)("div",{className:r,children:["\u5f53\u524d\u914d\u8272\u65b9\u6848\uff1a",m.name,Object(ne.jsx)(w.a,{color:"secondary",size:"small",variant:"contained",onClick:function(){s(!0),f(n)},className:c.outerButton,children:"\u5207\u6362"}),Object(ne.jsxs)(Se.a,{open:u,onClose:v,children:[Object(ne.jsx)(Be.a,{children:"\u66f4\u6362\u914d\u8272\u65b9\u6848"}),Object(ne.jsxs)(ke.a,{children:[Object(ne.jsxs)(Pe.a,{children:["\u4f60\u5f53\u524d\u7684\u914d\u8272\u65b9\u6848\u662f\u201c",m.name,"\u201d\u3002",Object(ne.jsx)("br",{})]}),Object(ne.jsxs)(Ce.a,{className:c.paper,children:[Object(ne.jsx)(Ne.a,{className:c.menu,children:Object.values(S.c).map((function(e){return Object(ne.jsx)(ye.a,{selected:e.id==j,onClick:function(){f(e.id)},children:e.name},e.id)}))}),Object(ne.jsxs)("div",{className:c.descriptionBox,children:[Object(ne.jsx)("div",{className:c.descriptionText,children:S.c[j].description}),Object(ne.jsx)("div",{className:c.descriptionDisplay,children:Object.values(S.c[j].contents()).map((function(e){return Object(ne.jsx)("div",{className:c.descriptionDisplayCell,style:{background:e.value}},e.value)}))})]})]}),Object(ne.jsx)(Pe.a,{children:"\u66f4\u6362\u914d\u8272\u65b9\u6848\u540e\uff0c\u6240\u6709\u73b0\u6709\u914d\u8272\u8bbe\u7f6e\u5c06\u91cd\u7f6e\u3002"})]}),Object(ne.jsxs)(Re.a,{children:[Object(ne.jsx)(w.a,{onClick:function(){s(!1),t(j)},color:"primary",variant:"contained",disabled:j==n,children:"\u786e\u8ba4\u66f4\u6362"}),Object(ne.jsx)(w.a,{onClick:v,color:"secondary",children:"\u4e0d\u4e86"})]})]})]})},$e=t(21),Ee=t(36),We=Object(b.a)((function(){return Object(j.a)({PlayerConfig:{},Center:{display:"flex",alignItems:"center"}})})),De=function(e){var n=e.enabled,t=e.setEnabled,r=e.setName,a=e.color,c=e.setColor,o=e.palette,l=We();return Object(ne.jsx)(C.a,{item:!0,xs:6,children:Object(ne.jsxs)(C.a,{container:!0,children:[Object(ne.jsx)(C.a,{item:!0,xs:8,children:Object(ne.jsx)(N.a,{defaultValue:e.name,variant:"outlined",fullWidth:!0,onBlur:function(e){r(e.target.value||"")}})}),Object(ne.jsx)(C.a,{item:!0,xs:4,className:l.Center,children:Object(ne.jsx)(C.a,{container:!0,children:Object(ne.jsxs)(ge.a,{row:!0,className:l.Center,children:[Object(ne.jsx)(he.a,{children:Object(ne.jsx)(pe.a,{checked:n,onChange:function(e,n){t(n)},value:"primary"})}),Object(ne.jsx)(he.a,{style:n?{}:{visibility:"hidden"},children:Object(ne.jsx)(xe.a,{style:{backgroundColor:a,color:oe()(a).isLight()?"black":"white",padding:"4px 0px",textAlign:"center"},native:!0,value:a,onChange:function(e){c(e.target.value)},children:Object.values(o).map((function(e){var n=e.value,t=e.name,r=e.isLight;return Object(ne.jsx)("option",{value:n,style:{backgroundColor:n,color:r?"black":"white",textAlign:"center"},children:t||n},n)}))})})]})})})]})})},Te=function(e){var n=e.players,t=e.setPlayer,r=e.palette;return Object(ne.jsx)(C.a,{container:!0,style:{overflowY:"auto"},children:Object.values(n).map((function(e){return Object(ne.jsx)(De,{name:e.name,setName:function(n){t(e.id,Object(y.a)(Object(y.a)({},e),{},{name:n}))},enabled:e.enabled,setEnabled:function(n){t(e.id,Object(y.a)(Object(y.a)({},e),{},{enabled:n}))},color:e.color,setColor:function(n){t(e.id,Object(y.a)(Object(y.a)({},e),{},{color:n}))},palette:r},e.id)}))})},ze=Object(b.a)((function(){return Object(j.a)({PaletteSwitch:{marginBottom:10,marginTop:20},RendererSelect:{display:"flex",alignItems:"center",marginTop:20},RendererDescription:{fontSize:"90%",color:"gray"},RendererPreview:{padding:"0px 13px",border:"1px solid #000000de",borderRadius:4}})})),Ae=function(e){var n=e.value,t=e.setValue,r=e.setPalette,a=e.className,c=ze();return Object(ne.jsxs)(ge.a,{className:a,children:[Object(ne.jsx)(Oe.a,{control:Object(ne.jsx)(pe.a,{checked:n.removeLinesStartedWithParenthesis,onChange:function(e){t(Object(y.a)(Object(y.a)({},n),{},{removeLinesStartedWithParenthesis:e.target.checked}))},color:"primary"}),label:"\u53bb\u6389\u4ee5(\uff08\u5f00\u5934\u7684\u884c"}),Object(ne.jsx)(Oe.a,{control:Object(ne.jsx)(pe.a,{checked:n.removeLinesStartedWithDot,onChange:function(e){t(Object(y.a)(Object(y.a)({},n),{},{removeLinesStartedWithDot:e.target.checked}))},color:"primary"}),label:"\u53bb\u6389\u4ee5.\u3002\u5f00\u5934\u7684\u884c"}),Object(ne.jsx)(Oe.a,{control:Object(ne.jsx)(pe.a,{checked:n.removeLinesStartedWithLenticular,onChange:function(e){t(Object(y.a)(Object(y.a)({},n),{},{removeLinesStartedWithLenticular:e.target.checked}))},color:"primary"}),label:"\u53bb\u6389\u4ee5\u3010\u5f00\u5934\u7684\u884c"}),Object(ne.jsx)(Oe.a,{control:Object(ne.jsx)(pe.a,{checked:n.regularizeQuotes,onChange:function(e){t(Object(y.a)(Object(y.a)({},n),{},{regularizeQuotes:e.target.checked}))},color:"primary"}),label:"\u81ea\u52a8\u7ea0\u6b63\u524d\u540e\u5f15\u53f7"}),Object(ne.jsx)(Ie,{value:n.palette,setValue:r,className:c.PaletteSwitch})]})};function He(e){var n={},t=[];return e.forEach((function(e){n[e.playerId]||(t.push(e),n[e.playerId]=!0)})),t}var Fe=function(e){var n=e.players,t=e.schemeId,a=e.setScheme,c=e.className,o=Object(r.useRef)(ie()(He)).current,l=ze(),i=Object.values($e.b).filter((function(n){return"v2"!=e.paletteId||n.allowNewPalette})),u=o(e.lines).filter((function(e){return n[e.playerId].enabled})).map((function(e){var t,r,a,c;return{content:e.content,playerName:null!==(t=null===(r=n[e.playerId])||void 0===r?void 0:r.name)&&void 0!==t?t:"\u9519\u8bef",playerColor:null!==(a=null===(c=n[e.playerId])||void 0===c?void 0:c.color)&&void 0!==a?a:"black"}})),s=$e.b[t];return Object(ne.jsxs)("div",{className:c,children:[Object(ne.jsxs)("div",{className:l.RendererSelect,children:["\u6392\u7248\u683c\u5f0f\uff1a",Object(ne.jsx)(he.a,{variant:"outlined",children:Object(ne.jsx)(xe.a,{value:t,onChange:function(e){var n=e.target.value;n in $e.b&&a(n)},children:i.map((function(e){return Object(ne.jsx)(ye.a,{value:e.id,children:e.name},e.id)}))})})]}),Object(ne.jsx)("div",{className:l.RendererDescription,children:s.description}),Object(ne.jsx)("div",{className:l.RendererPreview,children:Object($e.a)(u,s,!0)})]})};function Me(e,n,t){var r=Object(y.a)({},t),a=e.map((function(e){var a=n[e.playerId],c=fe()(Array.from(e.names)),o=null!=a?{id:e.playerId,name:a.displayName,nameCandidates:ve()([a.displayName].concat(Object(ae.a)(c))),color:a.color,enabled:a.enabled}:{id:e.playerId,name:c[0],nameCandidates:c,color:"",enabled:!0};if(!(o.color in t)){var l=Object.keys(r)[0];o.color=l}return delete r[o.color],o}));return se()(a.map((function(e){return[e.id,e]})))}function Ve(e,n){var t=e;return n.removeLinesStartedWithParenthesis&&(t=t.filter((function(e){return!["\uff08","("].includes(e.content[0][0])}))),n.removeLinesStartedWithDot&&(t=t.filter((function(e){return!["\u3002","."].includes(e.content[0][0])}))),n.removeLinesStartedWithLenticular&&(t=t.filter((function(e){return!["\u3010"].includes(e.content[0][0])}))),n.regularizeQuotes&&(t=t.map((function(e){return Object(y.a)(Object(y.a)({},e),{},{content:we(e.content)})}))),t}var _e=function(e){var n=e.args,t=e.onPrevStep,a=e.onNextStep,c=Object(r.useContext)(S.d),o=Object(S.f)(),i=Object(r.useState)((function(){return c.general||{}})),u=Object(l.a)(i,2),s=u[0],d=u[1],b=S.c[s.palette],j=Object(r.useState)(Me(n.players,c.players,b.contents())),f=Object(l.a)(j,2),m=f[0],v=f[1];return e.show?Object(ne.jsxs)(C.a,{container:!0,className:o.Container,children:[Object(ne.jsxs)(C.a,{item:!0,xs:12,className:o.Body,children:[Object(ne.jsx)(Ae,{value:s,setValue:d,setPalette:function(e){var t="v2"==e&&!$e.b[s.rendererScheme].allowNewPalette?Ee.b.rendererScheme:s.rendererScheme;d(Object(y.a)(Object(y.a)({},s),{},{palette:e,rendererScheme:t}));var r=S.c[e];v(Me(n.players,c.players,r.contents()))}}),Object(ne.jsx)(Te,{players:m,setPlayer:function(e,n){v(Object(y.a)(Object(y.a)({},m),{},Object(re.a)({},e,n)))},palette:b.contents()}),Object(ne.jsx)(Fe,{lines:n.lines,players:m,setScheme:function(e){d(Object(y.a)(Object(y.a)({},s),{},{rendererScheme:e}))},schemeId:s.rendererScheme,paletteId:s.palette})]}),Object(ne.jsxs)(C.a,{item:!0,xs:12,justifyContent:"flex-end",className:o.Control,children:[Object(ne.jsx)(w.a,{variant:"outlined",color:"secondary",className:o.ControlButton,onClick:t,children:"\u4e0a\u4e00\u6b65"}),Object(ne.jsx)(w.a,{variant:"contained",color:"primary",className:o.ControlButton,onClick:function(){a({lines:Ve(n.lines,s)},{players:be()(m,(function(e){return{displayName:e.name,color:e.color,enabled:e.enabled}})),general:s})},children:"\u4e0b\u4e00\u6b65"})]})]}):null},Qe=t(150),qe=Object(b.a)((function(){return Object(j.a)({logo:{marginRight:15,backgroundColor:"white"},horizontalFill:{flex:"1 0 auto"},toolbarIcon:{height:24,width:24,fill:"white"}})})),Je=function(e){var n=e.repoUrl,t=qe();return Object(ne.jsx)(v.a,{position:"fixed",children:Object(ne.jsxs)(x.a,{children:[Object(ne.jsx)(p.a,{alt:"Logo",src:"/android-chrome-512x512.png",className:t.logo}),Object(ne.jsx)(g.a,{variant:"h6",className:t.horizontalFill,children:"DK\u7684\u8dd1\u56e2\u8bb0\u5f55\u7740\u8272\u5668"}),Object(ne.jsx)(O.a,{"aria-label":"GitHub",href:n,target:"_blank",rel:"noopener noreferrer",children:Object(ne.jsx)(u.a,{svg:d.a.svg,className:t.toolbarIcon})})]})})},Ue=function(e){var n=e.configStorage,t=Object(r.useState)((function(){return Object(Ee.d)(n.load())})),a=Object(l.a)(t,2),c=a[0],o=a[1],i=S.d.Provider;return Object(ne.jsx)(i,{value:c,children:Object(ne.jsx)(S.b,{step1:te,step2:_e,step3:Qe.a,initConfig:function(){return c},saveConfig:function(e){o(e),n.save(e)}})})},Ye=Object(f.a)({palette:{primary:{main:"#795548"},secondary:{main:"#00897b"}}}),Ge=function(){return Object(ne.jsx)(m.a,{theme:Ye,children:Object(ne.jsxs)("div",{className:"root",children:[Object(ne.jsx)(Je,{repoUrl:"https://github.com/dkwingsmt/log-painter"}),Object(ne.jsx)(h.a,{maxWidth:"md",className:"Body-container",children:Object(ne.jsx)(Ue,{configStorage:S.e})}),Object(ne.jsxs)("p",{style:{textAlign:"center",marginTop:100,color:"#dddddd",fontSize:"small"},children:["\u6700\u540e\u66f4\u65b0\u65f6\u95f4\uff1a","2022\u5e743\u67083\u65e5\u661f\u671f\u56db"]})]})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(ne.jsx)(Ge,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},36:function(e,n,t){"use strict";t.d(n,"b",(function(){return s})),t.d(n,"d",(function(){return d})),t.d(n,"c",(function(){return j})),t.d(n,"a",(function(){return f}));var r=t(8),a=t(0),c=t.n(a),o=t(105),l=t.n(o),i=t(76),u=t(21),s={removeLinesStartedWithParenthesis:!1,removeLinesStartedWithDot:!1,removeLinesStartedWithLenticular:!1,regularizeQuotes:!1,palette:"v2",rendererScheme:"standard-rich"},d=function(e){var n,t=null!==e&&void 0!==e?e:{},a={players:null!==(n=t.players)&&void 0!==n?n:{},general:Object(r.a)(Object(r.a)({},s),t.general)};return a.general.palette in i.a||(a.general.palette=null==e?"v2":"bbs"),a.general.rendererScheme in u.b||(a.general.rendererScheme="standard-rich"),u.b[a.general.rendererScheme].allowNewPalette||"v2"!=a.general.palette||(a.general.rendererScheme="standard-rich"),a},b=d(void 0),j={load:function(){return l.a.get("config")},save:function(e){l.a.set("config",e)}},f=c.a.createContext(b)},76:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var r=t(8),a=t(169),c=t(83),o=t.n(c),l=t(84),i=t.n(l),u=t(106),s=t.n(u),d=["value"];function b(e){return i()(e.map((function(e){var n=e.value,t=Object(a.a)(e,d);return[n,Object(r.a)(Object(r.a)({},t),{},{value:n,isLight:o()(n).isLight()})]})))}var j=[{value:"black",name:"\u9ed1\u8272"},{value:"silver",name:"\u7070\u8272"},{value:"red",name:"\u7ea2\u8272"},{value:"green",name:"\u7eff\u8272"},{value:"orange",name:"\u6a58\u8272"},{value:"purple",name:"\u7d2b\u8272"},{value:"teal",name:"\u84dd\u7eff"},{value:"fuchsia",name:"\u6843\u7ea2"},{value:"yellow",name:"\u9ec4\u8272"},{value:"beige",name:"\u7c73\u8272"},{value:"brown",name:"\u68d5\u8272"},{value:"navy",name:"\u6df1\u84dd"},{value:"maroon",name:"\u7d2b\u7ea2"},{value:"limegreen",name:"\u83b1\u59c6"},{value:"white",name:"\u767d\u8272"},{value:"brown",name:"\u68d5\u8272"},{value:"blue",name:"\u84dd\u8272"},{value:"pink",name:"\u7c89\u7ea2"}],f=[{value:"black",name:"\u9ed1\u8272"},{value:"silver",name:"\u94f6\u7070"},{value:"#634200",name:"\u6df1\u8910"},{value:"#e39700",name:"\u6697\u6a59"},{value:"#d4e300",name:"\u91d1\u8272"},{value:"#1ee300",name:"\u8349\u7eff"},{value:"#26067d",name:"\u975b\u8272"},{value:"#c20cf0",name:"\u84dd\u7d2b"},{value:"#fc6d0d",name:"\u9633\u6a59"},{value:"#0dfccc",name:"\u84dd\u7eff"},{value:"#095157",name:"\u6697\u5ca9\u7070"},{value:"#8a0e1e",name:"\u6697\u7ea2"},{value:"#e31717",name:"\u9c9c\u7ea2"},{value:"#1717e3",name:"\u84dd\u8272"},{value:"#fc1956",name:"\u6a31\u6843\u7ea2"},{value:"#bd1c72",name:"\u54c1\u7ea2"},{value:"#b06635",name:"\u9517\u9ec4"},{value:"#315723",name:"\u6697\u7eff"},{value:"#bda855",name:"\u6697\u5361\u5176"},{value:"#9a55bd",name:"\u4e2d\u84dd\u7d2b"},{value:"#5ebd5e",name:"\u53f6\u7eff"},{value:"#65a8c9",name:"\u7070\u84dd"},{value:"#6b88d6",name:"\u77e2\u8f66\u83ca\u84dd"},{value:"#68bdac",name:"\u4e2d\u78a7\u84dd"},{value:"#575034",name:"\u5496\u5561"},{value:"#d68c81",name:"\u73ab\u7470\u8910"},{value:"#3d4057",name:"\u666e\u9c81\u58eb\u84dd"},{value:"#bd84a2",name:"\u706b\u9e64\u7ea2"},{value:"#574141",name:"\u6697\u7070"},{value:"#ebf0d8",name:"\u7c73\u9ec4"},{value:"#eae3fc",name:"\u85b0\u8863\u8349\u7d2b"}],m={v2:{id:"v2",name:"\u8272\u677fv2\uff08\u63a8\u8350\uff09",description:"\u201c\u8272\u677fv2\u201d\u5305\u62ec31\u4e2a\u7cbe\u5fc3\u6311\u9009\u7684\u989c\u8272\uff0c\u589e\u5f3a\u4e86\u8272\u5f69\u95f4\u7684\u5bf9\u6bd4\u5ea6\u4ee5\u53ca\u4e0e\u767d\u8272\u80cc\u666f\u7684\u5bf9\u6bd4\u5ea6\uff0c\u7f3a\u70b9\u662f\u65e0\u6cd5\u8f93\u51fa\u81f3BBS\u4ee3\u7801\u3002",contents:s()((function(){return b(f)}))},bbs:{id:"bbs",name:"BBS\u989c\u8272",description:"\u201cBBS\u8272\u677f\u201d\u5305\u542b18\u4e2a\u5e38\u89c1\u4e8eBBS\u7684\u989c\u8272\uff0c\u662f\u4f20\u7edf\u7684\u914d\u8272\u65b9\u6848\uff0c\u7f3a\u70b9\u662f\u8272\u5f69\u95f4\u7684\u533a\u5206\u5ea6\u53ca\u4e0e\u80cc\u666f\u7684\u5bf9\u6bd4\u5ea6\u65e0\u6cd5\u4fdd\u8bc1\u3002",contents:s()((function(){return b(j)}))}}}},[[340,1,2]]]);
//# sourceMappingURL=main.02b68d1d.chunk.js.map